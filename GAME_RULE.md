# 게임 규칙

## 🎮 게임 제목

**과일 캐치 (Fruit Catch)**

---

## 📝 게임 설명

하늘에서 떨어지는 과일을 바구니로 받는 포즈 인식 게임입니다.

화면은 **왼쪽(LEFT)**, **중앙(CENTER)**, **오른쪽(RIGHT)** 3개 구역으로 나뉘어 있으며,  
얼굴 방향을 움직여 바구니를 조작하여 떨어지는 과일을 받으세요!

폭탄을 받거나 과일을 3번 놓치면 게임이 종료됩니다.

---

## 🎯 게임 목표

- 제한 시간 내에 최대한 많은 과일을 받아 높은 점수 획득하기
- 폭탄을 피하고 과일을 놓치지 않기
- 목표 점수: **500점 이상**

---

## 🕹️ 게임 규칙

### 기본 규칙

1. **시작**
   - "게임 시작" 버튼을 클릭하여 게임 시작
   - 웹캠 권한을 허용해야 포즈 인식이 작동합니다

2. **바구니 조작**
   - **왼쪽 포즈** → 바구니가 왼쪽 구역으로 이동
   - **정면 포즈** → 바구니가 중앙 구역으로 이동
   - **오른쪽 포즈** → 바구니가 오른쪽 구역으로 이동

3. **아이템 받기**
   - 하늘에서 과일과 폭탄이 무작위로 떨어집니다
   - 바구니가 있는 구역에 아이템이 도착하면 자동으로 받습니다

4. **점수 획득**
   - 🍎 **사과**: +100점
   - 🍐 **배**: +150점
   - 🍊 **오렌지**: +200점
   - 💣 **폭탄**: 즉시 게임 오버!

5. **게임 오버 조건**
   - 폭탄을 받은 경우 → 즉시 게임 종료
   - 과일을 **3번** 놓친 경우 → 게임 종료
   - 제한 시간(60초) 종료

### 추가 규칙

- **레벨 시스템**: 20초마다 레벨이 1씩 증가하며, 아이템 낙하 속도가 빨라집니다
- **난이도 증가**: 레벨이 올라갈수록 폭탄 출현 확률이 증가합니다
- **콤보 시스템** (선택사항): 과일을 연속으로 5개 받으면 보너스 +50점

---

## 🎨 필요한 포즈 목록

게임에 필요한 포즈 (Teachable Machine에서 학습할 클래스)

| 포즈 이름 | 설명 | 게임 내 동작 |
|---------|------|------------|
| **왼쪽** | 얼굴을 왼쪽으로 돌린 상태 | 바구니를 왼쪽 구역으로 이동 |
| **정면** | 정면을 바라본 상태 | 바구니를 중앙 구역으로 이동 |
| **오른쪽** | 얼굴을 오른쪽으로 돌린 상태 | 바구니를 오른쪽 구역으로 이동 |

> **⚠️ 중요**: 현재 `my_model/metadata.json`에는 5개 클래스가 있습니다:  
> `["왼쪽", "오른쪽", "정면", "위", "아래"]`
> 
> 이 게임에서는 **"왼쪽", "정면", "오른쪽"** 3개만 사용합니다.  
> "위", "아래" 포즈는 무시됩니다.

### 라벨 매핑 (metadata.json ↔ 게임 구역)

| metadata.json 라벨 | 게임 구역 | 사용 여부 |
|-------------------|---------|---------|
| 왼쪽 | LEFT | ✅ 사용 |
| 정면 | CENTER | ✅ 사용 |
| 오른쪽 | RIGHT | ✅ 사용 |
| 위 | - | ❌ 미사용 |
| 아래 | - | ❌ 미사용 |

---

## 📊 점수 체계

| 행동 | 점수 |
|-----|------|
| 🍎 사과 받기 | +100점 |
| 🍐 배 받기 | +150점 |
| 🍊 오렌지 받기 | +200점 |
| 💣 폭탄 받기 | 게임 오버 |
| 과일 놓침 | 놓친 횟수 +1 (3회 시 게임 오버) |
| 콤보 보너스 (5연속) | +50점 (선택사항) |

---

## ⏱️ 시간 설정

- **제한 시간**: 60초
- **레벨업 주기**: 20초마다 레벨 증가
- **아이템 생성 간격**: 
  - 레벨 1: 2초마다
  - 레벨 2: 1.5초마다
  - 레벨 3: 1초마다

---

## 🎖️ 난이도 설정

| 레벨 | 낙하 속도 | 생성 간격 | 폭탄 확률 |
|-----|---------|---------|---------|
| 1 | 느림 | 2초 | 10% |
| 2 | 보통 | 1.5초 | 20% |
| 3 | 빠름 | 1초 | 30% |

---

## 🎵 추가 기능 (선택사항)

게임을 더 재미있게 만들 추가 기능:

- [ ] 효과음 추가 (과일 받기, 폭탄 터지기, 게임 오버)
- [ ] 배경음악
- [ ] 콤보 시스템 (연속 성공 시 보너스)
- [ ] 최고 점수 저장 (localStorage)
- [ ] 파티클 효과 (과일 받을 때)
- [ ] 난이도 선택 기능 (쉬움/보통/어려움)
- [ ] 특수 아이템 (시간 추가, 점수 2배 등)

---

## 🎨 UI 요소

게임 화면에 표시될 UI 요소:

1. **게임 영역**
   - 3개 구역 (왼쪽/중앙/오른쪽) 표시
   - 떨어지는 과일/폭탄 애니메이션
   - 바구니 (현재 포즈에 따라 위치 변경)

2. **정보 패널**
   - 현재 점수
   - 레벨
   - 남은 시간
   - 놓친 횟수 (❤️❤️❤️ 하트 3개)

3. **웹캠 영역**
   - 포즈 인식 화면 (작게 표시)
   - 현재 인식된 포즈 표시

4. **게임 오버 화면**
   - 최종 점수
   - 최고 기록
   - 재시작 버튼

---

## 💡 게임 개발 팁

### Teachable Machine 모델 학습 시 주의사항

1. **3개 포즈만 명확하게 학습**
   - 왼쪽: 얼굴을 확실하게 왼쪽으로 돌린 상태
   - 정면: 정면을 똑바로 바라본 상태
   - 오른쪽: 얼굴을 확실하게 오른쪽으로 돌린 상태

2. **충분한 샘플 수집**
   - 각 포즈당 최소 **100개 이상** 권장
   - 다양한 각도와 거리에서 촬영

3. **다양한 환경에서 학습**
   - 밝은 곳 / 어두운 곳
   - 다양한 배경
   - 여러 사람이 학습하면 더 좋음

4. **⚠️ 기존 모델 사용 시**
   - 현재 `my_model/`에는 5개 클래스 모델이 있습니다
   - 게임 코드에서 "위", "아래" 포즈는 무시하도록 구현
   - 또는 새로 3개 클래스만 학습하여 모델 교체

### gameEngine.js 구현 가이드

게임 로직 구현 시 필요한 주요 기능:

```javascript
// 1. 아이템 클래스 정의
class FallingItem {
  constructor(type, zone) {
    this.type = type; // 'apple', 'pear', 'orange', 'bomb'
    this.zone = zone; // 'LEFT', 'CENTER', 'RIGHT'
    this.y = 0; // 시작 위치
    this.speed = 2; // 낙하 속도
  }
}

// 2. 게임 상태 관리
{
  score: 0,
  level: 1,
  missedCount: 0,
  timeRemaining: 60,
  items: [], // 떨어지는 아이템 배열
  basketZone: 'CENTER' // 현재 바구니 위치
}

// 3. 충돌 감지
function checkCollision(item, basketZone) {
  if (item.y >= BASKET_Y && item.zone === basketZone) {
    return true;
  }
  return false;
}
```

---

## 📝 개발 체크리스트

- [ ] 게임 규칙 작성 완료 ✅
- [ ] Teachable Machine 모델 확인 (기존 모델 사용 또는 새로 학습)
- [ ] `js/gameEngine.js` 게임 로직 구현
  - [ ] 아이템 생성 시스템
  - [ ] 아이템 낙하 애니메이션
  - [ ] 충돌 감지
  - [ ] 점수 계산
  - [ ] 게임 오버 처리
- [ ] `index.html` UI 구성
  - [ ] 게임 영역 (3개 구역)
  - [ ] 정보 패널
  - [ ] 게임 오버 화면
- [ ] `css/style.css` 스타일 적용
  - [ ] 과일/폭탄 이미지 또는 이모지
  - [ ] 바구니 디자인
  - [ ] 애니메이션 효과
- [ ] `js/main.js` 통합
- [ ] 로컬 테스트 완료
- [ ] GitHub에 push
- [ ] GitHub Pages 배포 완료

---

## 🚀 다음 단계

1. ✅ 게임 규칙 작성 완료
2. Teachable Machine 모델 확인 (기존 모델 활용 가능)
3. 게임 로직 구현 시작
4. UI 디자인 및 구현
5. 테스트 및 배포

---

## 🎯 구현 우선순위

### Phase 1: 기본 게임 (MVP)
- 3개 구역 화면 구성
- 과일 1종류만 떨어지기
- 바구니 포즈 조작
- 기본 점수 시스템

### Phase 2: 게임 완성
- 여러 종류 과일 추가
- 폭탄 추가
- 레벨 시스템
- 게임 오버 처리

### Phase 3: 추가 기능
- 효과음/배경음악
- 콤보 시스템
- 최고 점수 저장
- UI 개선
